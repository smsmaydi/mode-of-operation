# ğŸ¨ UML Diagrams & Data Flow (EN)

## 1. State Machine (Encryption States)

```
START â†’ INPUT_READY â†’ READY_TO_RUN â†’ PROCESSING â†’ OUTPUT_READY
```

---

## 2. Class Diagram (Node Types)

```
ReactFlowNode
  â”œâ”€ PlaintextNode
  â”œâ”€ KeyNode
  â”œâ”€ IVNode
  â”œâ”€ XorPreBlockNode
  â”œâ”€ CtrNode
  â”œâ”€ BlockCipherNode
  â””â”€ CiphertextNode
```

---

## 3. Sequence (ECB Text/Bits)

```
User â†’ PlaintextNode.onChange()
    â†’ computeGraphValues()
    â†’ BlockCipherNode.data.preview
    â†’ CiphertextNode.data.result
```

---

## 4. Sequence (CBC Image)

```
User uploads image
  â†’ PlaintextNode.onFileChange()
  â†’ computeGraphValues()
  â†’ BlockCipherNode: "Ready for Run"
User clicks Run XOR
  â†’ onRunXor()
  â†’ fileToPixelBytes()
  â†’ xorRgbaBytesWithKey()
  â†’ rgbaBytesToPngDataUrl()
  â†’ setNodes() â†’ UI update
```

---

## 5. Activity Diagram (computeGraphValues)

```
Build valueMap
  â†’ XOR nodes (CBC)
  â†’ BlockCipher nodes
  â†’ Ciphertext nodes
  â†’ return updated nodes
```

---

## 6. CBC Chaining Diagram

```
P1 âŠ• IV âŠ• K â†’ C1
P2 âŠ• C1 âŠ• K â†’ C2
P3 âŠ• C2 âŠ• K â†’ C3
```

---

## 7. Timing (Image XOR)

```
Run XOR click
  â†’ FileReader async
  â†’ Image decode async
  â†’ Canvas XOR sync
  â†’ setNodes async â†’ UI update
```

---

## 8. Error Flow

```
Missing input â†’ error state â†’ UI warning
Invalid key   â†’ error state â†’ alert
```

---

For detailed diagrams and examples, see the comprehensive guide in
[COMPREHENSIVE_CODE_GUIDE.md](COMPREHENSIVE_CODE_GUIDE.md).
# ğŸ¨ DetaylÄ± UML DiyagramlarÄ± & Veri AkÄ±ÅŸ

## 1. Durum Makinesi (State Machine) - Åifreleme DurumlarÄ±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      BAÅLANGIC DURUMU                            â”‚
â”‚  Nodes yÃ¼klendi, user giri saÄŸlamadÄ±, Ã§Ä±ktÄ± boÅŸ                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
        User text/bits/image girecek
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   INPUT DURUMU                                   â”‚
â”‚  PlaintextNode.value â‰  "", Key â‰  ""                            â”‚
â”‚  PlaintextNode.onChange() â†’ computeGraphValues()               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
    BlockCipher.data gÃ¼ncellendi
    (preview/fullBinary/plaintextFile)
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              HESAP READY DURUMU                                  â”‚
â”‚  Text/Bits modu: SonuÃ§ otomatik hesaplandÄ±                     â”‚
â”‚  Image modu: "Ready for Run XOR" durumu                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
      Image modu: Run XOR button tÄ±klanacak
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ÅIFRELEME DURUMU (Image)                            â”‚
â”‚  onRunXor() Ã§alÄ±ÅŸÄ±yor...                                        â”‚
â”‚  - fileToPixelBytes()                                           â”‚
â”‚  - xorRgbaBytesWithKey()                                        â”‚
â”‚  - rgbaBytesToPngDataUrl()                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
    SonuÃ§ oluÅŸturuldu
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              OUTPUT READY DURUMU                                 â”‚
â”‚  Ciphertext.data.result = PNG data URL                         â”‚
â”‚  Ciphertext.data.xorBytes = Uint8Array                         â”‚
â”‚  User gÃ¶rebilir: âœ“ Åifreli resim                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. SÄ±nÄ±f DiyagramÄ± (Class Diagram) - Node Types

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  ReactFlowNode      â”‚
                    â”‚  (Base Type)        â”‚
                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                    â”‚ id: string          â”‚
                    â”‚ type: string        â”‚
                    â”‚ position: {x, y}    â”‚
                    â”‚ data: object        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                      â”‚                      â”‚
        â–¼                      â–¼                      â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚InputNode    â”‚    â”‚ProcessNode  â”‚    â”‚OutputNode    â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚â€¢ Plaintext  â”‚    â”‚â€¢ BlockCipherâ”‚    â”‚â€¢ Ciphertext  â”‚
   â”‚â€¢ Key        â”‚    â”‚â€¢ XOR        â”‚    â”‚              â”‚
   â”‚â€¢ IV         â”‚    â”‚â€¢ CTR        â”‚    â”‚              â”‚
   â”‚â€¢ CTR        â”‚    â”‚             â”‚    â”‚              â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                    â”‚                  â”‚
        â–¼                    â–¼                  â–¼
   value:string        cipherType:str    result:string
   bits:string         keyBits:string    fullBinary:str
   inputType:str       plaintextFile:F   xorBytes:Uint8

   METHODS:
   â”œâ”€ onChange(id, patch)
   â”œâ”€ onRunCipher(id)     [BlockCipher'da]
   â””â”€ setHandleLabel()
```

---

## 3. Data Flow Sequence Diagram - ECB Mode

```
User              PlaintextNode      computeGraph        BlockCipher       Ciphertext
  â”‚                    â”‚                   â”‚                  â”‚                 â”‚
  â”‚ Type "A"           â”‚                   â”‚                  â”‚                 â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚                  â”‚                 â”‚
  â”‚                    â”‚ onChange()        â”‚                  â”‚                 â”‚
  â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                  â”‚                 â”‚
  â”‚                    â”‚                   â”‚ valueMap['p1']   â”‚                 â”‚
  â”‚                    â”‚                   â”‚   = {bits,â€¦}     â”‚                 â”‚
  â”‚                    â”‚                   â”‚                  â”‚                 â”‚
  â”‚  Key "B"           â”‚                   â”‚                  â”‚                 â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚                  â”‚                 â”‚
  â”‚                    â”‚ onChange()        â”‚                  â”‚                 â”‚
  â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                  â”‚                 â”‚
  â”‚                    â”‚                   â”‚ valueMap['k1']   â”‚                 â”‚
  â”‚                    â”‚                   â”‚   = {bits,â€¦}     â”‚                 â”‚
  â”‚                    â”‚                   â”‚                  â”‚                 â”‚
  â”‚                    â”‚                   â”‚ XOR A âŠ• B        â”‚                 â”‚
  â”‚                    â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                 â”‚
  â”‚                    â”‚                   â”‚                  â”‚ result=C        â”‚
  â”‚                    â”‚                   â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
  â”‚                    â”‚                   â”‚                  â”‚                 â”‚
  â”‚                    â”‚â—„â”€â”€â”€â”€â”€â”€setNodes()â”€â”€â”¤                  â”‚                 â”‚
  â”‚                    â”‚                   â”‚â—„â”€â”€â”€â”€â”€previewâ”€â”€â”€â”€â”‚                 â”‚
  â”‚                    â”‚                   â”‚                  â”‚                 â”‚
  â”‚  Render            â”‚                   â”‚                  â”‚                 â”‚
  â”œâ”€â”€â”€â”€â”€â”€displayâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                    â”‚                   â”‚                  â”‚                 â”‚
```

---

## 4. Data Flow Sequence Diagram - CBC Mode + Image

```
User              PlaintextNode    Crypto Util      computeGraph    BlockCipher    Ciphertext
  â”‚                    â”‚               â”‚                 â”‚               â”‚             â”‚
  â”‚ Upload image.png   â”‚               â”‚                 â”‚               â”‚             â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚               â”‚                 â”‚               â”‚             â”‚
  â”‚                    â”‚ onFileChange()â”‚                 â”‚               â”‚             â”‚
  â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                 â”‚               â”‚             â”‚
  â”‚                    â”‚               â”‚ FileReader      â”‚               â”‚             â”‚
  â”‚                    â”‚               â”‚ + Image decode  â”‚               â”‚             â”‚
  â”‚                    â”‚               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚               â”‚             â”‚
  â”‚                    â”‚               â”‚   fileToPixel   â”‚               â”‚             â”‚
  â”‚                    â”‚               â”‚   Bytes()       â”‚               â”‚             â”‚
  â”‚                    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ Uint8Array(256) â”‚               â”‚             â”‚
  â”‚                    â”‚               â”‚   Ã—256Ã—4 bytes  â”‚               â”‚             â”‚
  â”‚                    â”‚ onChange      â”‚                 â”‚               â”‚             â”‚
  â”‚                    â”‚   (inputType) â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚               â”‚             â”‚
  â”‚                    â”‚   =image      â”‚                 â”‚ valuMap:      â”‚             â”‚
  â”‚                    â”‚               â”‚                 â”‚   p1={image}  â”‚             â”‚
  â”‚                    â”‚               â”‚                 â”‚               â”‚             â”‚
  â”‚  Click Run XOR     â”‚               â”‚                 â”‚               â”‚             â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
  â”‚                    â”‚               â”‚                 â”‚               â”‚             â”‚
  â”‚                    â”‚               â”‚ onRunXor()      â”‚               â”‚             â”‚
  â”‚                    â”‚               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚             â”‚
  â”‚                    â”‚               â”‚ xorRgba         â”‚               â”‚             â”‚
  â”‚                    â”‚               â”‚ BytesWithKey()  â”‚               â”‚             â”‚
  â”‚                    â”‚               â”‚ bitString       â”‚               â”‚             â”‚
  â”‚                    â”‚               â”‚ ToBytes()       â”‚               â”‚             â”‚
  â”‚                    â”‚               â”‚ XOR loop        â”‚               â”‚             â”‚
  â”‚                    â”‚               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚             â”‚
  â”‚                    â”‚               â”‚ new Uint8Array  â”‚  preview:    â”‚             â”‚
  â”‚                    â”‚               â”‚ (encrypted)     â”‚  PNG DataURL â”‚             â”‚
  â”‚                    â”‚               â”‚                 â”‚               â”‚ result:     â”‚
  â”‚                    â”‚               â”‚ rgbaBytesTo     â”‚               â”‚ PNG DataURL â”œâ”€â”€â”€â”€â”€â”€â”€â”€â–º
  â”‚                    â”‚               â”‚ PngDataUrl()    â”‚               â”‚             â”‚
  â”‚                    â”‚               â”‚                 â”‚               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
  â”‚                    â”‚               â”‚                 â”‚               â”‚             â”‚
  â”‚  Display output    â”‚               â”‚                 â”‚               â”‚             â”‚
  â”œâ”€â”€â”€â”€â”€â”€imageâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
  â”‚                    â”‚               â”‚                 â”‚               â”‚             â”‚
```

---

## 5. Entity-Relationship Diagram (ERD) - Node Relations

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         PlaintextNode               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id: "p1"                            â”‚
â”‚ inputType: "bits|text|image"        â”‚
â”‚ value: string|File                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ connects to (edge)
             â”‚ sourceHandle: "out"
             â”‚ targetHandle: "plaintext"
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      BlockCipherNode                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id: "b1"                            â”‚
â”‚ cipherType: "xor|aes|des"           â”‚
â”‚ keyBits: string (from Key)          â”‚
â”‚ plaintextFile: File (from Plaintext)â”‚
â”‚ preview: string (computed)          â”‚
â”‚ fullBinary: string (computed)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ connects to (edge)
             â”‚ sourceHandle: "out"
             â”‚ targetHandle: "in"
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      CiphertextNode                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id: "c1"                            â”‚
â”‚ result: string|DataURL (computed)   â”‚
â”‚ fullBinary: string (computed)       â”‚
â”‚ xorBytes: Uint8Array (computed)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         KeyNode                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id: "k1"                            â”‚
â”‚ bits: string                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ connects to (edge)
             â”‚ sourceHandle: "out"
             â”‚ targetHandle: "key"
             â”‚
             â–¼
         BlockCipherNode (above)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         IVNode (CBC)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id: "iv1"                           â”‚
â”‚ bits: string                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ connects to (edge)
             â”‚ targetHandle: "prevCipher"
             â”‚              OR "pc" (XOR)
             â”‚
             â–¼
         BlockCipherNode / XORNode

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      XORNode (CBC)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id: "xor1"                          â”‚
â”‚ ptInput: string                     â”‚
â”‚ pcInput: string                     â”‚
â”‚ xorOutput: string (computed)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ connects to
             â”‚ â†’ BlockCipher(plaintext)
             â”‚
             â–¼
         BlockCipherNode (above)
```

---

## 6. Activity Diagram - computeGraphValues() Ä°Ã§ AkÄ±ÅŸ

```
                        START
                          â”‚
                          â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ valueMap       â”‚
                   â”‚ oluÅŸtur        â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚ PlaintextNode'larÄ±   â”‚
                 â”‚ process et           â”‚
                 â”‚ valueMap.set(id, {}) â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚ KeyNode'larÄ±         â”‚
                 â”‚ process et           â”‚
                 â”‚ valueMap.set(id, {}) â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚ IVNode'larÄ±          â”‚
                 â”‚ process et           â”‚
                 â”‚ valueMap.set(id, {}) â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤ mode = 'cbc' mÄ±?    â”‚
        â”‚ Evet   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                   â”‚ HayÄ±r
        â”‚                   â–¼
        â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚        â”‚ XORNode'larÄ±         â”‚
        â”‚        â”‚ skip et              â”‚
        â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                   â”‚
        â–¼                   â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
   â”‚ XORNode'larÄ± â”‚         â”‚
   â”‚ process et   â”‚         â”‚
   â”‚ XOR iÅŸlem    â”‚         â”‚
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
          â”‚                 â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ BlockCipherNode'larÄ± â”‚
        â”‚ process et           â”‚
        â”‚ - Incoming edges     â”‚
        â”‚ - valueMap'ten ver   â”‚
        â”‚ - Mode'a gÃ¶re XOR    â”‚
        â”‚ - preview gÃ¼ncelle   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ CiphertextNode'larÄ±  â”‚
        â”‚ process et           â”‚
        â”‚ BlockCipher'dan      â”‚
        â”‚ sonuÃ§ al             â”‚
        â”‚ data.result gÃ¼ncelle â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ TÃ¼m node'larÄ± dÃ¶ndÃ¼r â”‚
        â”‚ (yeni referans)      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
                  END
```

---

## 7. State Diagram - Node.data GeÃ§iÅŸleri

```
PlaintextNode.data State Transitions:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  initial        â”‚
â”‚  value: ""      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ setText(value)
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  text_input     â”‚
â”‚  value: "ABC"   â”‚
â”‚  bits: ""       â”‚
â”‚  file: null     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ setBits(value)
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  bits_input     â”‚
â”‚  bits: "010101" â”‚
â”‚  value: ""      â”‚
â”‚  file: null     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ setFile(value)
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  image_input    â”‚
â”‚  file: File{} â”‚
â”‚  value: File    â”‚
â”‚  text: ""       â”‚
â”‚  bits: ""       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

BlockCipherNode.data State Transitions (Image Mode):

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  initial                 â”‚
â”‚  preview: ""             â”‚
â”‚  plaintextFile: null     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ computeGraphValues()
         â”‚ plaintext input detected
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ready_for_run           â”‚
â”‚  preview: "Ready for Run"â”‚
â”‚  plaintextFile: File     â”‚
â”‚  keyBits: string         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ onRunXor()
         â”‚ file processing
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  processing              â”‚
â”‚  (during encryption)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ (async complete)
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  completed               â”‚
â”‚  preview: DataURL        â”‚
â”‚  xorBytes: Uint8Array    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8. Interaction Diagram - Mode DeÄŸiÅŸtirme

```
User selects
"CBC Mode"
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ModeMenu.jsx:onClick() â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ App.js:applyMode("cbc")            â”‚
â”‚ 1. setMode("cbc")                  â”‚
â”‚ 2. buildPreset("cbc") â†’ {nodes, ed}â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Handler'larÄ± enjekte et:                 â”‚
â”‚ - PlaintextNode.onChange                 â”‚
â”‚ - KeyNode.onChange                       â”‚
â”‚ - IVNode.onChange (new)                  â”‚
â”‚ - XORNode.onChange (new)                 â”‚
â”‚ - BlockCipherNode.onRunCipher            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ computeGraphValues(nodes, edges, "cbc")  â”‚
â”‚ - valueMap oluÅŸtur                       â”‚
â”‚ - XOR node'larÄ± iÅŸle                     â”‚
â”‚ - BlockCipher: mode === "cbc" ?          â”‚
â”‚   â”œâ”€ plaintext âŠ• prevCipher âŠ• key       â”‚
â”‚   â””â”€ update node.data                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ setNodes(computedNodes)                  â”‚
â”‚ setEdges(cbc_edges)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ React Re-render                          â”‚
â”‚ - Yeni nodes gÃ¶rÃ¼ntÃ¼lendi (IV, XOR)     â”‚
â”‚ - ECB kurallarÄ± â†’ CBC kurallarÄ±na        â”‚
â”‚ - BaÄŸlantÄ±lar gÃ¼ncellendi                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9. Timing Diagram - Asynchronous XOR (Image)

```
Timeline:

T0: User clicks "Run XOR"
    â”‚
    â–¼
T1: onRunXor() start
    â”œâ”€ FileReader.readAsArrayBuffer()
    â”‚
T2: FileReader.onload (async)
    â”œâ”€ Image.onload (async)
    â”‚
T3: Image loaded
    â”œâ”€ Canvas operations (sync)
    â”œâ”€ getImageData()
    â”œâ”€ XOR loop
    â”œâ”€ putImageData()
    â”œâ”€ canvas.toDataURL() (sync)
    â”‚
T4: PNG DataURL ready
    â”œâ”€ setNodes() called
    â”‚
T5: state updated
    â”œâ”€ React re-render
    â”œâ”€ Canvas displayed
    â”‚
T6: User sees encrypted image

Time Flow:
Synchronous:  [T0]â”€â”€[T1]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[T3]â”€â”€[T4]â”€â”€[T5]â”€â”€[T6]
              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Asynchronous:          [T2]â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                   â””â”€ Callback
```

---

## 10. Object Instantiation Diagram

```
App Component Mount
        â”‚
        â–¼
    React.useEffect(() => {
      applyMode(mode)   // "ecb"
    })
        â”‚
        â”œâ”€ buildPreset("ecb")
        â”‚  â”‚
        â”‚  â”œâ”€ nodes[] = [
        â”‚  â”‚   {id:'p1', type:'plaintext', data:{...}},
        â”‚  â”‚   {id:'k1', type:'key', data:{...}},
        â”‚  â”‚   {id:'b1', type:'blockcipher', data:{...}},
        â”‚  â”‚   {id:'c1', type:'ciphertext', data:{...}}
        â”‚  â”‚ ]
        â”‚  â”‚
        â”‚  â””â”€ edges[] = [
        â”‚     {id:'e-p-b', source:'p1', ...},
        â”‚     {id:'e-k-b', source:'k1', ...},
        â”‚     {id:'e-b-c', source:'b1', ...}
        â”‚  ]
        â”‚
        â”œâ”€ Handler enjeksiyon
        â”‚  â”œâ”€ PlaintextNode.data.onChange = lambda
        â”‚  â”œâ”€ KeyNode.data.onChange = lambda
        â”‚  â””â”€ BlockCipherNode.data.onRunCipher = lambda
        â”‚
        â”œâ”€ setNodes([...])
        â”œâ”€ setEdges([...])
        â”‚
        â””â”€ ReactFlow render
           â””â”€ nodeTypes map'i kullanarak
              â”œâ”€ <PlaintextNode data={...} />
              â”œâ”€ <KeyNode data={...} />
              â”œâ”€ <BlockCipherNode data={...} />
              â””â”€ <CiphertextNode data={...} />
```

---

## 11. Process Model - Complete XOR Encryption (Image)

```
Start: User uploads image + key

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHASE 1: File Input                                     â”‚
â”‚ - <input type="file" onChange={onFileChange}            â”‚
â”‚ - fileToPixelBytes()                                    â”‚
â”‚   â”œâ”€ FileReader.readAsDataURL()                         â”‚
â”‚   â”œâ”€ Image.decode()                                     â”‚
â”‚   â”œâ”€ Canvas.drawImage()                                 â”‚
â”‚   â”œâ”€ ctx.getImageData(0, 0, 256, 256)                   â”‚
â”‚   â””â”€ Return: Uint8Array [R,G,B,A,...] Ã— 262144 bytes   â”‚
â”‚                                                          â”‚
â”‚ OUTPUT: node.data.plaintextFile = File{}               â”‚
â”‚         node.data.value = File{}                        â”‚
â”‚         node.data.pixelBytes = Uint8Array               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHASE 2: Computation Engine                             â”‚
â”‚ - computeGraphValues() called                           â”‚
â”‚ - valueMap['p1'] = {image, File}                        â”‚
â”‚ - valueMap['k1'] = {bits, "010101..."}                  â”‚
â”‚ - BlockCipherNode.data.preview = "Ready for Run XOR"   â”‚
â”‚                                                          â”‚
â”‚ OUTPUT: Updated node.data ready for execution           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHASE 3: User Triggers Execution                        â”‚
â”‚ - onClick: "Run XOR" button                             â”‚
â”‚ - data.onRunCipher(blockId)                             â”‚
â”‚ - Calls: onRunXor(blockId, nodes, edges, mode)          â”‚
â”‚                                                          â”‚
â”‚ OUTPUT: Cipher execution baÅŸlanÄ±r                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHASE 4: XOR Encryption Engine                          â”‚
â”‚ - bitStringToBytes(keyBits)                             â”‚
â”‚   â””â”€ "01010101" â†’ [85]                                  â”‚
â”‚ - xorRgbaBytesWithKey(plainBytes, keyBits)              â”‚
â”‚   â”œâ”€ for (i = 0; i < bytes.length; i += 4)             â”‚
â”‚   â”œâ”€   out[i] ^= keyBytes[i % keyBytes.length]          â”‚
â”‚   â”œâ”€   out[i+1] ^= keyBytes[...]                        â”‚
â”‚   â”œâ”€   out[i+2] ^= keyBytes[...]                        â”‚
â”‚   â””â”€   (alpha channel tidak deÄŸiÅŸir)                    â”‚
â”‚ - Output: new Uint8Array (encrypted bytes)              â”‚
â”‚                                                          â”‚
â”‚ OUTPUT: outBytes = Uint8Array (262144 bytes encrypted)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHASE 5: Output Formatting                              â”‚
â”‚ - rgbaBytesToPngDataUrl(outBytes, 256, 256)             â”‚
â”‚   â”œâ”€ Canvas oluÅŸtur                                     â”‚
â”‚   â”œâ”€ ctx.createImageData()                              â”‚
â”‚   â”œâ”€ data[...] = outBytes                               â”‚
â”‚   â”œâ”€ ctx.putImageData()                                 â”‚
â”‚   â””â”€ canvas.toDataURL("image/png")                      â”‚
â”‚ - Output: "data:image/png;base64,iVBORw0KG..."          â”‚
â”‚                                                          â”‚
â”‚ OUTPUT: PNG DataURL                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHASE 6: State Update                                   â”‚
â”‚ - setNodes((nds) => nds.map(n => {                      â”‚
â”‚   if (n.id === blockId) return {                        â”‚
â”‚     ...n,                                               â”‚
â”‚     data: {                                             â”‚
â”‚       ...n.data,                                        â”‚
â”‚       preview: outUrl,                                  â”‚
â”‚       xorBytes: outBytes                                â”‚
â”‚     }                                                   â”‚
â”‚   }                                                     â”‚
â”‚   if (ctId && n.id === ctId) return {                   â”‚
â”‚     ...n,                                               â”‚
â”‚     data: {                                             â”‚
â”‚       ...n.data,                                        â”‚
â”‚       result: outUrl,                                   â”‚
â”‚       xorBytes: outBytes                                â”‚
â”‚     }                                                   â”‚
â”‚   }                                                     â”‚
â”‚   return n;                                             â”‚
â”‚ }))                                                     â”‚
â”‚                                                          â”‚
â”‚ OUTPUT: nodes state updated                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHASE 7: Rendering                                      â”‚
â”‚ - React re-render triggered                             â”‚
â”‚ - CiphertextNode component updates                      â”‚
â”‚ - <img src={data.result} />                             â”‚
â”‚ - Encrypted image displayed                             â”‚
â”‚                                                          â”‚
â”‚ OUTPUT: User gÃ¶rebilir ÅŸifreli resim                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

End: Encryption complete, result displayed
```

---

## 12. Error Handling Flow

```
Try:
  â”œâ”€ Plaintext boÅŸ â†’ âŒ Missing inputs
  â”œâ”€ Key boÅŸ â†’ âŒ Missing inputs
  â”œâ”€ Key tip invalid â†’ âŒ keyBits is not a string
  â”œâ”€ File okuma hatasÄ± â†’ âŒ File read failed
  â”œâ”€ Image decode hatasÄ± â†’ âŒ Image load failed
  â”œâ”€ AES key hatasÄ± â†’ âŒ AES key error
  â””â”€ DES key â‰  8 chars â†’ âŒ DES key must be 8 chars

Catch:
  â”œâ”€ alert(error.message)
  â””â”€ Return (skip iÅŸlem)

Result:
  â”œâ”€ node.data.error = error message
  â”œâ”€ UI warns user
  â””â”€ State unchanged
```

---

## 13. Performance Considerations

```
Heavy Operations:
  â”œâ”€ computeGraphValues()
  â”‚  â””â”€ O(n) for nodes, O(e) for edges
  â”‚     Ã— mode = ECB: fast
  â”‚     Ã— mode = CBC: slower (zincir)
  â”‚
  â”œâ”€ fileToPixelBytes()
  â”‚  â””â”€ Image decode + canvas ops
  â”‚     256 Ã— 256 = 262K pixels
  â”‚     Ã— 4 bytes each = 1MB data
  â”‚
  â”œâ”€ xorRgbaBytesWithKey()
  â”‚  â””â”€ 262K iterations (loop)
  â”‚     XOR per pixel
  â”‚
  â””â”€ rgbaBytesToPngDataUrl()
     â””â”€ Canvas toDataURL() â†’ Base64
        262K bytes â†’ ~350KB string

Optimization:
  â”œâ”€ Memoization: useMemo() for presets
  â”œâ”€ Lazy computation: Image mode'da async
  â”œâ”€ Worker threads: (future) heavy crypto
  â””â”€ Virtual scroll: Many nodes (future)
```

---

